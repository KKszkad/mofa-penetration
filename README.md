# mofa-penetration

## 项目概述

`mofa-penetration` 是一个基于 MOFA架构的智能搜索优化系统。该系统通过可视化的工作流，模拟人类思维路径，增强多引擎元搜索，并通过有效的数据筛选和结构化输出，帮助用户获取有价值的信息.

## 功能特性

**智能搜索增强**

- **多搜索引擎集成**：通过 `searxng` 等多个搜索引擎执行查询，确保覆盖尽可能多的相关数据源。
- **去噪与内容筛选**：通过 `check_content` 节点筛选并去除低质量、无关的内容，确保最终结果的准确性和相关性。

**数据筛查与结构化呈现**

- **筛查**：`check_content` 节点对搜集到的网页内容进行筛查，确保返回的都是有价值的、有用的信息。
- **结构化结果**：`conclude_result` 节点输出结构化的结果，使用户能够轻松理解并利用搜索结果。

## 安装与使用

### 环境准备

**安装mofa**

**部署SearXNG**

```Bash
克隆项目仓库
git clone https://github.com/KKszkad/mofa-penetration
cd python/examples/mofa_penetration
```

在python/examples/mofa_penetration/setting.ini中配置大模型参数和searxng参数

##  Agent 说明

![Dataflow.png](https://github.com/KKszkad/Pictures/blob/main/Dataflow.png?raw=true)

### 1. `terminal-input`节点

- **功能**：接收并预处理用户输入。
- **工作流程**： 
  - 用户输入查询内容后，该节点将输入转化为系统理解的格式，并将其传递给下一个节点（`makeplan`）。
  - 接收到其他节点的输入时立即进行输出。

### 2. **`makeplan`** **节点**

- **功能**：生成搜索策略，确定关键词和搜索分析。
- **工作流程**： 
  - 根据 `terminal-input` 节点的输入，分析用户需求，生成具体的搜索计划，并将其传递给 `search_outline` 节点。

### 3. **`search_outline`** **节点**

- **功能**：执行元搜索，获取相关数据。
- **工作流程**： 
  - 使用 `searxng` 执行多引擎搜索，获取多个数据源的标题、url、梗概。
  - 输出数据将传递给 `check_content` 节点。

### 4. **`check_content`** **节点**

- **功能**：爬取并筛选搜索结果。
- **工作流程**： 
  - 使用大模型对网页内容进行检查，去除无关、低质量的搜索结果，并确保数据的准确性。
  - 根据 剩余的URL 列表，爬取网页内容。

### 5. **`conclude_result`** **节点**

- **功能**：收集来自其他节点的必要信息，最终输出结果。
- **工作流程**： 
  - 综合 `check_content` 节点筛选后的数据，以及先前的用户输入和plan。得出结果，将其结构化输出，便于用户阅读和理解。

## 示例：如何变得有钱？

假设用户希望了解如何增加财富并实现财务自由，系统可以通过以下步骤来帮助生成相关建议和搜索结果。

1. 定义计划（Plan）

用户计划可能涉及增加收入、理财、投资等方面的内容。我们可以通过定义以下计划来开始任务：

```JSON
{
    "schedule": "用户可能正在寻找增加财富、提高收入或理财的方法，可能涉及投资、创业、职业发展或财务规划等方面。",
    "search_words": [
        "快速增加收入的10种方法",
        "如何通过投资理财实现财富自由",
        "创业成功的关键因素与步骤"
    ]
}
```

这个计划定义了用户的需求和需要搜索的相关关键词。系统将根据这些信息来生成搜索策略并执行搜索任务。

2. 执行元搜索（Web Page Outline）

在执行元搜索之后，系统会从多个搜索引擎获取相关的网页内容。以下是系统返回的部分网页概要：

```JSON
{
  "outlines": [
    {
      "title": "投资理财“三字经”——读《投资中最关键的事》 - 豆瓣",
      "url": "https://m.douban.com/book/review/15802166",
      "content": "2024年3月11日 ... 作者指出，“首先一定要了解自己，充分了解自己的财富目标、自己的现有财富，从而找出实现财富目标的不同路径，再根据自己的风险承受能力选择相应的路径。”"
    },
    {
      "title": "搞钱神器！手把手教你用对方法，轻松实现财富自由",
      "url": "https://bk.taobao.com/k/shoujitaobao_430/97c7ed947b64f91fe47db9dd166e5876.html",
      "content": "4天前 — 一、搞钱第一步：学会理财，让钱为你工作。搞钱的第一步，不是拼命加班，而是学会让钱为你工作。理财并不是高深莫测的事情 ..."
    },
    {
      "title": "尽快积累财富的 10 种方法 - 知乎",
      "url": "https://zhuanlan.zhihu.com/p/5622534022",
      "content": "但是，通过采用明智的财务实践、进行战略投资和最大限度地利用收入机会，可以在更短的时间内获得可观的财务收益。"
    }
  ]
}
```

3. **数据筛查与筛选**（Deduction）

根据返回的搜索结果，系统会进一步筛查并提取出有价值的内容。通过大模型对网页概览进行判断，选择最贴近主题的几个网页作为数据源使用。

4. **结论与建议**（Conclusion）

最终，系统通过筛选出的信息和分析，给出关于如何变得有钱的总结和建议：

<hr>

#### 一、理财基础：让钱为你工作

1. **强制储蓄**
   1. 每月固定存下收入的10%-20%，利用复利效应积累本金。
   2. 工具推荐：高流动性货币基金（如余额宝）、定期存款或国债。
2. **学习投资**
   1. 从低风险产品（如指数基金、债券）开始，逐步学习股票、REITs等。
   2. 避免盲目跟风，长期定投比短期投机更稳健。

#### 二、增加收入的10种方法（快速&长期）

1. **主业提升**
   1. 精进职业技能，争取升职加薪或跳槽到高薪行业。
   2. 例如：学习数据分析、编程等硬技能。
2. **副业开发**
   1. 利用业余时间做自媒体、电商（如淘宝无货源）、知识付费等。
   2. 参考“搞钱神器”中提到的低门槛副业（如手淘客）。
3. **被动收入**
   1. 投资分红型股票、出租闲置资产（如房产、设备）。
   2. 创作数字产品（如电子书、课程）持续销售。

#### 三、关键策略

1. **控制消费**
   1. 区分“需要”和“想要”，避免负债消费（如信用卡透支）。
2. **持续学习**
   1. 每天花30分钟学习理财或新技能（如“搞钱神器”提到的投资技巧）。
   2. 关注经济趋势，抓住红利行业（如AI、新能源）。
3. **风险对冲**
   1. 分散投资，预留应急资金。

#### 四、避免误区

- **不要追求暴富**：高收益常伴随高风险（如加密货币、传销）。
- **先存钱再投资**：没有本金时，优先储蓄而非借贷投资。

<hr>